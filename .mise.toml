[tools]
rust = "1.92.0"  # edition2024 support for coreaudio-sys
shellcheck = "0.11.0"
actionlint = "1.7.9"
mdbook = "0.4.43"

[tasks.check]
description = "Run all linters"
run = [
  "cargo fmt --all -- --check",
  "cargo clippy --all-targets --all-features -- -D warnings",
  "shellcheck scripts/*.sh",
  "actionlint",
]

[tasks.build]
description = "Build debug binary"
run = "cargo build"

[tasks.build-release]
description = "Build release binary"
run = "cargo build --release"

[tasks.dev]
description = "Run app in release mode"
run = "mise exec -- cargo run --release"

[tasks.test]
description = "Run tests"
run = "cargo test"

[tasks.fmt]
description = "Format code"
run = "cargo fmt --all"

[tasks.coverage]
description = "Generate code coverage"
run = "cargo llvm-cov --lcov --output-path lcov.info"

[tasks.docs]
description = "Serve documentation with live reload"
dir = "docs"
run = "mdbook serve --open"
